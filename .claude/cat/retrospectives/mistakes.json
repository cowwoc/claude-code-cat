[
  {
    "id": "M091",
    "timestamp": "2026-01-15T06:15:00Z",
    "category": "protocol_violation",
    "description": "Released v1.7 without updating CHANGELOG.md - ran git tag directly instead of using release-plugin skill",
    "root_cause": "Ad-hoc release process instead of using release-plugin skill which ensures changelog synchronization",
    "rca_method": "B",
    "rca_method_name": "taxonomy",
    "prevention_type": "skill",
    "prevention_path": "/workspace/cat/skills/release-plugin/SKILL.md",
    "pattern_keywords": [
      "release",
      "changelog",
      "git tag",
      "version"
    ],
    "prevention_implemented": true,
    "prevention_verified": false,
    "recurrence_of": null,
    "prevention_quality": {
      "verification_type": "positive",
      "fragility": "low",
      "catches_variations": true
    },
    "correct_behavior": "When user requests a release, always invoke release-plugin skill. Update CHANGELOG.md BEFORE creating git tag."
  },
  {
    "id": "M092",
    "timestamp": "2026-01-15T01:50:00Z",
    "category": "protocol_violation",
    "description": "Used invalid commit type feat: instead of feature:",
    "root_cause": "Defaulted to conventional commit pattern without checking project-specific commit types in git-commit skill",
    "rca_method": "C",
    "rca_method_name": "causal-barrier",
    "prevention_type": "hook",
    "prevention_path": "/workspace/cat/hooks/validate-commit-type.sh",
    "pattern_keywords": [
      "commit",
      "type",
      "feat",
      "feature",
      "conventional"
    ],
    "prevention_implemented": true,
    "prevention_verified": false,
    "recurrence_of": null,
    "prevention_quality": {
      "verification_type": "positive",
      "fragility": "low",
      "catches_variations": true
    },
    "correct_behavior": "Use feature: not feat:, bugfix: not fix:, and other full names as specified in git-commit skill line 136"
  },
  {
    "id": "M093",
    "timestamp": "2026-01-15T02:00:00Z",
    "category": "protocol_violation",
    "description": "Recorded M092 with documentation as prevention when documentation already existed and failed",
    "root_cause": "Skipped step 8 of learn-from-mistakes workflow (check if prevention already exists) due to completion bias",
    "rca_method": "A",
    "rca_method_name": "5-whys",
    "prevention_type": "skill",
    "prevention_path": "/workspace/cat/skills/learn-from-mistakes/SKILL.md",
    "pattern_keywords": [
      "prevention",
      "escalation",
      "existing",
      "documentation"
    ],
    "prevention_implemented": true,
    "prevention_verified": false,
    "recurrence_of": null,
    "prevention_quality": {
      "verification_type": "positive",
      "fragility": "low",
      "catches_variations": true
    },
    "correct_behavior": "Before recording prevention, check if it already exists. If existing prevention failed, escalate to stronger level (documentation â†’ hook/validation)"
  },
  {
    "id": "M094",
    "timestamp": "2026-01-15T02:15:00Z",
    "category": "protocol_violation",
    "description": "Created hook script with wrong implementation (PostToolUse logic in PreToolUse hook) and did not use register-hook skill",
    "root_cause": "Did not use register-hook skill which would have guided proper hook type selection and implementation pattern",
    "rca_method": "B",
    "rca_method_name": "taxonomy",
    "prevention_type": "skill",
    "prevention_path": "/workspace/cat/skills/register-hook/SKILL.md",
    "pattern_keywords": [
      "hook",
      "register",
      "PreToolUse",
      "PostToolUse",
      "TOOL_INPUT"
    ],
    "prevention_implemented": true,
    "prevention_verified": false,
    "recurrence_of": null,
    "prevention_quality": {
      "verification_type": "positive",
      "fragility": "low",
      "catches_variations": true
    },
    "correct_behavior": "Use /cat:register-hook skill when creating hooks. It guides proper hook type selection and provides correct implementation patterns."
  },
  {
    "id": "M095",
    "timestamp": "2026-01-15T16:19:00Z",
    "category": "git_operation_failure",
    "description": "Used soft reset squash workflow for mid-history commits, losing commits after squash range",
    "root_cause": "git-squash skill workflow assumed commits at branch tip; used branch -f main HEAD which discards commits after the squash range when squashing mid-history",
    "rca_method": "C",
    "rca_method_name": "causal-barrier",
    "prevention_type": "skill",
    "prevention_path": "${CLAUDE_PROJECT_DIR}/skills/git-squash/SKILL.md",
    "pattern_keywords": [
      "git",
      "squash",
      "mid-history",
      "soft-reset",
      "branch-f",
      "lost-commits"
    ],
    "prevention_implemented": true,
    "prevention_verified": true,
    "recurrence_of": null,
    "prevention_quality": {
      "verification_type": "positive",
      "fragility": "low",
      "catches_variations": true
    },
    "correct_behavior": "Check if commits are at branch tip; use interactive rebase workflow for mid-history squashes"
  },
  {
    "id": "M096",
    "timestamp": "2026-01-16T00:45:00Z",
    "category": "assumption_without_verification",
    "description": "Reported subagent used ~29K tokens when actual usage was 137K - measurement was wrong, not estimation",
    "root_cause": "Main agent reported token value without verifying .completion.json or parsing session file - claimed measured value without actual measurement",
    "rca_method": "C",
    "rca_method_name": "causal-barrier",
    "prevention_type": "skill",
    "prevention_path": "/workspace/cat/skills/collect-results/SKILL.md",
    "pattern_keywords": [
      "token_measurement",
      "completion_json",
      "session_file",
      "verification"
    ],
    "prevention_implemented": true,
    "prevention_verified": false,
    "recurrence_of": null,
    "prevention_quality": {
      "verification_type": "positive",
      "fragility": "low",
      "catches_variations": true
    },
    "correct_behavior": "Verify token metrics from .completion.json or session JSONL file before reporting. Never claim measured values without actual measurement."
  },
  {
    "id": "M097",
    "timestamp": "2026-01-16T00:50:00Z",
    "category": "protocol_violation",
    "description": "Main agent edited source code directly during merge conflict instead of spawning subagent",
    "root_cause": "Completion bias - rationalized bypassing protocol for perceived efficiency on small fix",
    "rca_method": "A",
    "rca_method_name": "5-whys",
    "prevention_type": "skill",
    "prevention_path": "/workspace/cat/.claude/cat/references/agent-architecture.md",
    "pattern_keywords": [
      "main_agent_boundary",
      "code_edit",
      "delegation",
      "completion_bias"
    ],
    "prevention_implemented": true,
    "prevention_verified": false,
    "recurrence_of": null,
    "prevention_quality": {
      "verification_type": "positive",
      "fragility": "medium",
      "catches_variations": true
    },
    "correct_behavior": "Spawn subagent for ALL code changes including merge conflict resolution - no exceptions for small fixes"
  }
]
