[
  {
    "id": "M001",
    "timestamp": "2026-01-13T04:30:00Z",
    "category": "protocol_violation",
    "description": "Executed bulk shrink-doc operation in main agent instead of spawning subagent",
    "root_cause": "shrink-doc skill lacked guidance on subagent usage for bulk file operations",
    "prevention_type": "skill",
    "prevention_path": "/workspace/cat/skills/shrink-doc/SKILL.md",
    "pattern_keywords": [
      "shrink-doc",
      "subagent",
      "bulk-operation",
      "main-agent"
    ],
    "prevention_implemented": true,
    "prevention_verified": true,
    "prevention_quality": {
      "verification_type": "positive",
      "fragility": "low",
      "catches_variations": true
    },
    "correct_behavior": "For 6+ files, ALWAYS spawn subagent. Main agent only for single file shrinking."
  },
  {
    "id": "M002",
    "timestamp": "2026-01-13T16:15:00Z",
    "category": "protocol_violation",
    "description": "Asked user to review implementation before committing changes",
    "root_cause": "Showed code changes in chat without committing first - users cannot see unstaged changes",
    "prevention_type": "hook",
    "prevention_path": "/workspace/cat/hooks/inject-session-instructions.sh",
    "pattern_keywords": [
      "commit",
      "review",
      "unstaged",
      "visibility"
    ],
    "prevention_implemented": true,
    "prevention_verified": true,
    "prevention_quality": {
      "verification_type": "positive",
      "fragility": "low",
      "catches_variations": true
    },
    "correct_behavior": "ALWAYS commit changes BEFORE asking users to review. Pattern: Implement → Commit → Review"
  },
  {
    "id": "M089",
    "timestamp": "2026-01-14T19:16:46Z",
    "category": "documentation_violation",
    "description": "Used docs: prefix for Claude-facing workflow file instead of config:",
    "root_cause": "Commit-types distinction between Claude-facing (config:) and user-facing (docs:) was documented but not prominent enough",
    "rca_method": "A",
    "rca_method_name": "5-whys",
    "prevention_type": "documentation",
    "prevention_path": "/workspace/cat/.claude/cat/references/commit-types.md",
    "pattern_keywords": [
      "commit-type",
      "docs",
      "config",
      "claude-facing",
      "workflow"
    ],
    "prevention_implemented": true,
    "prevention_verified": true,
    "recurrence_of": null,
    "prevention_quality": {
      "verification_type": "positive",
      "fragility": "low",
      "catches_variations": true
    },
    "correct_behavior": "Use config: for Claude-facing files (CLAUDE.md, hooks, skills, workflows). Use docs: only for user-facing documentation (README, API docs)."
  }
]
